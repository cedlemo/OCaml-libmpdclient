<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Queue_lwt (libmpdclient.Mpd.Queue_lwt)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">libmpdclient</a> &#x00BB; <a href="../index.html">Mpd</a> &#x00BB; Queue_lwt</nav><header class="odoc-preamble"><h1>Module <code><span>Mpd.Queue_lwt</span></code></h1><p>Module for Mpd current playlist manipulation in Lwt threads.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span></code><ol><li id="type-t.PlaylistError" class="def variant constructor anchored"><a href="#type-t.PlaylistError" class="anchor"></a><code><span>| </span><span><span class="constructor">PlaylistError</span> <span class="keyword">of</span> string</span></code></li><li id="type-t.Playlist" class="def variant constructor anchored"><a href="#type-t.Playlist" class="anchor"></a><code><span>| </span><span><span class="constructor">Playlist</span> <span class="keyword">of</span> <span><a href="../Song/index.html#type-t">Song.t</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Playlist type</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Add the file URI to the playlist (directories add recursively). URI can also be a single file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-addid"><a href="#val-addid" class="anchor"></a><code><span><span class="keyword">val</span> addid : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Add a song to the playlist (non-recursive) and returns the song id. URI is always a single file or URL. For example:</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Clear the current playlist.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete"><a href="#val-delete" class="anchor"></a><code><span><span class="keyword">val</span> delete : 
  <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>?position_end:int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Delete a song or a set of songs from the playlist. The song or the range of songs are identified by the position in the playlist.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-deleteid"><a href="#val-deleteid" class="anchor"></a><code><span><span class="keyword">val</span> deleteid : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Delete the song SONGID from the playlist.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-move"><a href="#val-move" class="anchor"></a><code><span><span class="keyword">val</span> move : 
  <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>?position_end:int <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Move the song at FROM or range of songs at START:END to TO in the playlist.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-moveid"><a href="#val-moveid" class="anchor"></a><code><span><span class="keyword">val</span> moveid : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Move the song with FROM (songid) to TO (playlist index) in the playlist. If TO is negative, it is relative to the current song in the playlist (if there is one).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-playlist"><a href="#val-playlist" class="anchor"></a><code><span><span class="keyword">val</span> playlist : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Get a list of Song.s that represents all the songs in the current playlist.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-playlistid"><a href="#val-playlistid" class="anchor"></a><code><span><span class="keyword">val</span> playlistid : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="../Song/index.html#type-t">Song.t</a>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Get a list with the Song.s of the song id in the playlist</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-playlistfind"><a href="#val-playlistfind" class="anchor"></a><code><span><span class="keyword">val</span> playlistfind : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Find songs in the current playlist with strict matching.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-playlistsearch"><a href="#val-playlistsearch" class="anchor"></a><code><span><span class="keyword">val</span> playlistsearch : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Search case-insensitively for partial matches in the current playlist.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-swap"><a href="#val-swap" class="anchor"></a><code><span><span class="keyword">val</span> swap : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Swap the positions of SONG1 and SONG2.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-shuffle"><a href="#val-shuffle" class="anchor"></a><code><span><span class="keyword">val</span> shuffle : 
  <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?range:<span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Shuffle the current playlist. START:END is optional and specifies a range of songs.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prio"><a href="#val-prio" class="anchor"></a><code><span><span class="keyword">val</span> prio : 
  <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>?range:<span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Set the priority of the specified songs. A higher priority means that it will be played first when &quot;random&quot; mode is enabled. A priority is an integer between 0 and 255. The default priority of new songs is 0.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prioid"><a href="#val-prioid" class="anchor"></a><code><span><span class="keyword">val</span> prioid : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>int list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Same as prio, but address the songs with their id.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-swapid"><a href="#val-swapid" class="anchor"></a><code><span><span class="keyword">val</span> swapid : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Swap the positions of SONG1 and SONG2 (both song ids).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rangeid"><a href="#val-rangeid" class="anchor"></a><code><span><span class="keyword">val</span> rangeid : 
  <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>?range:<span>(float * float)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Specify the portion of the song that shall be played. START and END are offsets in seconds (fractional seconds allowed); both are optional. Omitting both (i.e. sending just &quot;:&quot;) means &quot;remove the range, play everything&quot;. A song that is currently playing cannot be manipulated this way.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cleartagid"><a href="#val-cleartagid" class="anchor"></a><code><span><span class="keyword">val</span> cleartagid : <span><a href="../Client_lwt/index.html#type-t">Client_lwt.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Protocol/index.html#type-response">Protocol.response</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Remove tags from the specified song. If TAG is not specified, then all tag values will be removed. Editing song tags is only possible for remote songs.</p></div></div></div></body></html>