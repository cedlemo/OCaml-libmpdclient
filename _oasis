Name: libmpdclient
Version: 0.1
Synopsis: A mpd client library.
Authors: cedlemo <cedlemo@gmx.com>
License: GPL-3

Description: This is an attempt to write a client library for the mpd server protocol.
Homepage: https://github.com/cedlemo/OCaml-libmpdclient

OASISFormat: 0.4
BuildTools: ocamlbuild
Plugins: META (0.4), DevFiles (0.4)

Library "libmpdclient"
  Path: src
  Modules: Mpd,
           Protocol,
           Playback, LwtPlayback,
           PlaybackOptions, LwtPlaybackOptions,
           Status,
           Song,
           MpdQueue, MpdLwtQueue,
           StoredPlaylists, LwtStoredPlaylists,
           Mpd_utils
  BuildDepends: unix, str, lwt, lwt.unix

Executable mpdclient_test_unit
  Path: tests
  Build$: flag(tests)
  Install: false
  CompiledObject: best
  MainIs: test.ml
  BuildDepends: oUnit, libmpdclient

Test "mpdclient_test_unit"
  Run$: flag(tests)
  TestTools: mpdclient_test_unit
  Command: $mpdclient_test_unit
  WorkingDirectory: tests

Executable "try_mpd_queries"
  Path: samples
  MainIs: try_mpd_queries.ml
  Install: false
  CompiledObject: best
  BuildDepends: libmpdclient

Executable "mpd_status_query"
  Path: samples
  MainIs: mpd_status_query.ml
  Install: false
  CompiledObject: best
  BuildDepends: libmpdclient

Executable "mpd_tagtypes_query"
  Path: samples
  MainIs: mpd_tagtypes_query.ml
  Install: false
  CompiledObject: best
  BuildDepends: libmpdclient

Executable "mpd_volume_query"
  Path: samples
  MainIs: mpd_volume_query.ml
  Install: false
  CompiledObject: best
  BuildDepends: libmpdclient

Executable "mpd_playlist_info"
  Path: samples
  MainIs: mpd_playlist_info.ml
  Install: false
  CompiledObject: best
  BuildDepends: libmpdclient

Executable "mpd_lwt_playlist_info"
  Path: samples
  MainIs: mpd_lwt_playlist_info.ml
  Install: false
  CompiledObject: best
  BuildDepends: libmpdclient, lwt

Executable "mpd_lwt_client_idle"
  Path: samples
  MainIs: mpd_lwt_client_idle.ml
  Install: false
  CompiledObject: best
  BuildDepends: libmpdclient


AlphaFeatures: ocamlbuild_more_args
Document "libmpdclient_doc"
  Type: ocamlbuild (0.4)
  BuildTools: ocamldoc
  Title: API reference for Mpd
  XOCamlbuildPath: .
  XOCamlbuildExtraArgs:
    "-docflags '-colorize-code -short-functors -charset utf-8'"
  XOCamlbuildLibraries: libmpdclient
